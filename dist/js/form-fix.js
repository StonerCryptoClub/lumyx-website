document.addEventListener('DOMContentLoaded', function() { console.log('Simple form fix applied - no popups'); const allNewsletterForms = document.querySelectorAll('.newsletter-form'); allNewsletterForms.forEach(form => { form.setAttribute('action', 'https: form.setAttribute('method', 'get'); form.setAttribute('target', '_blank'); const emailInput = form.querySelector('input[type="email"]'); if (emailInput) { emailInput.setAttribute('name', 'EMAIL'); } const nameInput = form.querySelector('input[type="text"]'); if (nameInput) { nameInput.setAttribute('name', 'FNAME'); } let redirectInput = form.querySelector('input[name="redirect"]'); if (!redirectInput) { redirectInput = document.createElement('input'); redirectInput.setAttribute('type', 'hidden'); redirectInput.setAttribute('name', 'redirect'); redirectInput.setAttribute('value', 'https: form.appendChild(redirectInput); console.log('Added redirect parameter to form pointing to custom thank you page.'); } form.addEventListener('submit', function(e) { console.log('Form submitting to Mailchimp via eepurl link...'); }); }); console.log('All newsletter forms updated to use eepurl.com link. Forms should now submit correctly.'); }); document.addEventListener('DOMContentLoaded', function() { const emailElement = document.querySelector('.email-address'); if (emailElement) { emailElement.style.wordBreak = 'break-all'; emailElement.style.wordWrap = 'break-word'; emailElement.style.overflowWrap = 'anywhere'; emailElement.style.maxWidth = '100%'; emailElement.style.whiteSpace = 'nowrap'; emailElement.style.textOverflow = 'ellipsis'; emailElement.style.overflow = 'hidden'; emailElement.style.display = 'inline-block'; if (window.innerWidth <= 768) { emailElement.style.fontSize = '0.9rem'; emailElement.style.maxWidth = '95%'; } if (window.innerWidth <= 480) { emailElement.style.fontSize = '0.85rem'; emailElement.style.letterSpacing = '-0.5px'; emailElement.style.maxWidth = '90%'; } const contactItem = emailElement.closest('.contact-item'); if (contactItem) { contactItem.style.maxWidth = '100%'; contactItem.style.overflow = 'hidden'; } } window.addEventListener('resize', function() { if (emailElement) { if (window.innerWidth <= 480) { emailElement.style.fontSize = '0.85rem'; emailElement.style.letterSpacing = '-0.5px'; emailElement.style.maxWidth = '90%'; } else if (window.innerWidth <= 768) { emailElement.style.fontSize = '0.9rem'; emailElement.style.letterSpacing = 'normal'; emailElement.style.maxWidth = '95%'; } else { emailElement.style.fontSize = '1rem'; emailElement.style.letterSpacing = 'normal'; emailElement.style.maxWidth = '100%'; } } }); });
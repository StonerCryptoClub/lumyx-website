const GA_MEASUREMENT_ID = 'G-YOUR_ACTUAL_GA4_ID'; function initializeAnalytics() { const gaScript = document.createElement('script'); gaScript.async = true; gaScript.src = `https: document.head.appendChild(gaScript); window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', GA_MEASUREMENT_ID, { send_page_view: true, anonymize_ip: true, cookie_flags: 'SameSite=None;Secure' }); window.gtag = gtag; console.log('Google Analytics initialized'); setupEventTracking(); } function setupEventTracking() { document.querySelectorAll('form').forEach(form => { form.addEventListener('submit', function(e) { const formId = this.id || 'unknown-form'; trackEvent('form_submission', { form_id: formId, page: window.location.pathname }); }); }); document.querySelectorAll('button, a.btn, .cta-button, .home-button, .contact-button, .subscribe-button') .forEach(button => { button.addEventListener('click', function(e) { const buttonText = this.textContent.trim(); const buttonId = this.id || 'unknown-button'; trackEvent('button_click', { button_id: buttonId, button_text: buttonText, page: window.location.pathname }); }); }); document.querySelectorAll('nav a').forEach(link => { link.addEventListener('click', function(e) { const linkText = this.textContent.trim(); const linkHref = this.getAttribute('href'); trackEvent('navigation_click', { link_text: linkText, link_href: linkHref, page: window.location.pathname }); }); }); let scrollDepthMarks = [25, 50, 75, 90]; let scrollDepthMarksReached = []; window.addEventListener('scroll', function() { const scrollPercentage = getScrollPercentage(); scrollDepthMarks.forEach(mark => { if (scrollPercentage >= mark && !scrollDepthMarksReached.includes(mark)) { scrollDepthMarksReached.push(mark); trackEvent('scroll_depth', { depth_percentage: mark, page: window.location.pathname }); } }); }); } function trackEvent(eventName, eventParams = {}) { if (window.gtag) { gtag('event', eventName, eventParams); console.log(`Event tracked: ${eventName}`, eventParams); } } function getScrollPercentage() { const documentHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight; const scrollPosition = window.scrollY; return Math.round((scrollPosition / documentHeight) * 100); } document.addEventListener('DOMContentLoaded', initializeAnalytics); window.trackEvent = trackEvent;